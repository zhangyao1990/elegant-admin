
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{_ as x}from"./AssigneePanel.vue_vue_type_script_setup_true_lang-DK6I14do.js";import{d as D,bM as k,i as E,r as h,b as V,g as q,ai as i,a as M,S as R,U as r,_ as t,k as f,E as v}from"./@vue-B5ZJ3lyG.js";import{_ as $}from"./vue-esign-CYl9_Ryz.js";import"./index-DCl_rd1q.js";import"./index-qeCTDZwl.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-CyY_Wk_H.js";import"./@imengyu-CEcZjhxx.js";import"./vue-DvVlWPqX.js";import"./floating-vue-AocVffS4.js";import"./@floating-ui-DiM7Jq06.js";import"./vue-m-message-CaZYo5LC.js";import"./overlayscrollbars-DIcyBJd7.js";import"./@iconify-BcJ8VpTk.js";import"./overlayscrollbars-vue-CwvYLriB.js";import"./@headlessui-Cgia3ZxR.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-0jcLrwUI.js";import"./lodash-es-Cgwu3vQX.js";import"./pinia-C6gN_FJk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-B53joON4.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-iUOJk6xm.js";import"./@vueuse-D9pgrdqz.js";import"./nprogress-CK9xi7fq.js";import"./@element-plus-DlsPF3Ud.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DHZ_rfNz.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BoS7Exf_.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-1i8roCpp.js";import"./path-browserify-CaPOtSVJ.js";import"./axios-CRnBnh7r.js";import"./UserTag-wJe9SfQr.js";import"./UserPicker-xx7XSXa5.js";import"./sys_user-rXWpRg4F.js";import"./index-bQqCd7I9.js";import"./RoleTag-BaAFCPzf.js";import"./RolePicker-CL6w3CbS.js";import"./sys_role-CiNVMn25.js";const B=D({__name:"CcPanel",props:{activeData:{},activeDataModifiers:{}},emits:["update:activeData"],setup(y){const l=k(y,"activeData"),{fields:b}=E("flowDesign",{fields:h([])}),c=h("properties"),d=V({get(){return l.value.formProperties.every(o=>o.readonly)},set(o){l.value.formProperties.forEach(e=>e.readonly=o),o&&(m.value=!1)}}),m=V({get(){return l.value.formProperties.every(o=>o.hidden)},set(o){l.value.formProperties.forEach(e=>e.hidden=o),o&&(d.value=!1)}});function g(o){o.readonly&&(o.hidden=!1)}function P(o){o.hidden&&(o.readonly=!1)}return q(()=>{const o=l.value.formProperties;l.value.formProperties=b.value.map(e=>({id:e.id,name:e.label,readonly:e.readonly||!1,hidden:e.hidden,required:e.required||!1})),l.value.formProperties.forEach(e=>{const n=o.find(s=>s.id===e.id);n&&(e.readonly=n.readonly,e.hidden=n.hidden,e.required=n.required)})}),(o,e)=>{const n=i("el-form"),s=i("el-tab-pane"),_=i("el-table-column"),u=i("el-checkbox"),C=i("el-table"),U=i("el-tabs");return M(),R(U,{modelValue:f(c),"onUpdate:modelValue":e[3]||(e[3]=a=>v(c)?c.value=a:null),stretch:"",class:"tab-segmented"},{default:r(()=>[t(s,{label:"抄送人",name:"properties"},{default:r(()=>[t(n,{"label-position":"top","label-width":"90px"},{default:r(()=>[t(x,{"active-data":l.value,"onUpdate:activeData":e[0]||(e[0]=a=>l.value=a),fields:f(b),type:"抄送"},null,8,["active-data","fields"])]),_:1})]),_:1}),t(s,{label:"表单权限",name:"formPermissions"},{default:r(()=>[t(C,{data:l.value.formProperties},{default:r(()=>[t(_,{prop:"name",label:"字段"}),t(_,{prop:"readonly"},{header:r(()=>[t(u,{modelValue:f(d),"onUpdate:modelValue":e[1]||(e[1]=a=>v(d)?d.value=a:null),label:"只读"},null,8,["modelValue"])]),default:r(({row:a})=>[t(u,{modelValue:a.readonly,"onUpdate:modelValue":p=>a.readonly=p,onChange:p=>g(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(_,{prop:"hidden"},{header:r(()=>[t(u,{modelValue:f(m),"onUpdate:modelValue":e[2]||(e[2]=a=>v(m)?m.value=a:null),label:"隐藏"},null,8,["modelValue"])]),default:r(({row:a})=>[t(u,{modelValue:a.hidden,"onUpdate:modelValue":p=>a.hidden=p,onChange:p=>P(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),De=$(B,[["__scopeId","data-v-9c0005ba"]]);export{De as default};


/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BYjrgkOC.js","./vue-esign-CYl9_Ryz.js","./@vue-B5ZJ3lyG.js","../css/vue-esign-L8gvZECO.css","./index-Dl8AcDeo.js","./index-qeCTDZwl.js","./vite-plugin-fake-server-4rIte7rE.js","./mockjs-CyY_Wk_H.js","./@imengyu-CEcZjhxx.js","./vue-DvVlWPqX.js","../css/@imengyu-B328e8Sj.css","./floating-vue-AocVffS4.js","./@floating-ui-DiM7Jq06.js","../css/floating-vue-CkisWYDT.css","./vue-m-message-CaZYo5LC.js","../css/vue-m-message-B24OszcH.css","./overlayscrollbars-DIcyBJd7.js","../css/overlayscrollbars-BVWn2hCD.css","./@iconify-BcJ8VpTk.js","./overlayscrollbars-vue-CwvYLriB.js","./@headlessui-Cgia3ZxR.js","./mitt-DJ65BbbF.js","./crypto-js-0jcLrwUI.js","./lodash-es-Cgwu3vQX.js","./pinia-C6gN_FJk.js","./vue-demi-Dq6ymT-8.js","./vue-router-B53joON4.js","./hotkeys-js-BfWqkGRU.js","./element-plus-iUOJk6xm.js","./@vueuse-D9pgrdqz.js","./nprogress-CK9xi7fq.js","./@element-plus-DlsPF3Ud.js","./@sxzz-D9SI2xQl.js","./@ctrl-r5W6hzzQ.js","./dayjs-DHZ_rfNz.js","./async-validator-CRbnkQr6.js","./memoize-one-BdPwpGay.js","./normalize-wheel-es-B6fDCfyv.js","../css/element-plus-BaWwkJCN.css","./vue-i18n-BoS7Exf_.js","./@intlify-CEEhciFb.js","./colord-CrBFWQzZ.js","./monaco-editor-1i8roCpp.js","../css/monaco-editor-F5UdC8UO.css","./path-browserify-CaPOtSVJ.js","./axios-CRnBnh7r.js","../css/index-Dj6mCFkI.css","./icon.vue_vue_type_script_setup_true_lang-Ct1VJFCF.js","./index-DkNqqTLX.js","./index-DrohSPRq.js","./vuedraggable-CX4WvCQN.js","./sortablejs-BWWsmqBL.js","./index-C8CUPCL0.js","./index-CpWCeqqY.js","../css/index-Cx_Dn_sL.css","./index-Cbfr_yh5.js","./index-ChU32OFE.js","./index-Djqcvyw_.js","./index-BPUV7E46.js","./tree.vue_vue_type_script_setup_true_lang-BY5vdYQE.js","./index-BxkxyQWa.js","./index-DbU1zECx.js","./index-C6K1_N3Q.js","./index-BzfNkS1w.js","./index-Cyj0A5IF.js","./outline-CQX5zp20.js","./attributeView-CVMrtkem.js","./styleView-DnkD_Pvf.js","./eventView-DH7-3coS.js"])))=>i.map(i=>d[i]);
import{v as P,w as H,_ as ve}from"./index-qeCTDZwl.js";import{u as _e}from"./vue-router-B53joON4.js";import{_ as A}from"./monaco-editor-1i8roCpp.js";import{r as _,l as Z,d as q,a as V,S as B,U as R,N as O,Q as se,k as x,b as W,i as J,w as $,a2 as ge,p as F,s as ye,g as ee,e as ue,ai as be,W as we,_ as L,ac as Ee,ad as Ae,X as ce,m as de,R as xe,n as G,c as X,f as N,F as ke,a8 as De,o as pe,q as Ie,af as ie}from"./@vue-B5ZJ3lyG.js";import{C as Pe,D as Se,E as ae,F as le}from"./@vueuse-D9pgrdqz.js";import{_ as Ce}from"./vue-esign-CYl9_Ryz.js";function te(t=10){const l="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let n=0;n<t;n++){const e=Math.floor(Math.random()*l.length);o+=l[e]}return o}function Re(t){return t.charAt(0).toUpperCase()+t.slice(1)}function M(t,l=new WeakMap){if(typeof t!="object"||t===null)return t;if(l.has(t))return l.get(t);if(Array.isArray(t)){const n=t.map(e=>M(e,l));return l.set(t,n),n}const o={};return l.set(t,o),Object.keys(t).forEach(n=>{o[n]=M(t[n],l)}),o}function pt(t){const[l]=Oe([M(t)],o=>{var e,a;const n={...o,id:`${o.type}_${te(8)}`};return(n.field||n.input)&&!((a=(e=P.getComponentConfingByType(n.type))==null?void 0:e.editConstraints)!=null&&a.fixedField)&&(n.field=n.id),n});return l}function U(t,l,o=!0){for(const[n,e]of Object.entries(l)){let a=t==null?void 0:t[n];a&&e&&typeof a=="object"&&typeof e=="object"?(Array.isArray(a)&&!Array.isArray(e)?a=t[n]={}:!Array.isArray(a)&&Array.isArray(e)&&(a=t[n]=[]),U(a,e,o)):t[n]=e}o&&Object.keys(t).reverse().forEach(n=>{Object.prototype.hasOwnProperty.call(l,n)||(Array.isArray(t)?t.splice(Number(n),1):delete t[n])})}function fe(t,l,o=[],n=new WeakMap){const e=a=>{if(Array.isArray(a))return a.map(e);if(typeof a=="object"&&a!==null){if(n.has(a))return"[Circular]";n.set(a,!0);const r=Object.keys(a).sort(),u={};return r.forEach(s=>{o.includes(s)||(u[s]=e(a[s]))}),n.delete(a),u}else return a};return JSON.stringify(e(t))===JSON.stringify(e(l))}function Ve(t,l){const o=[];let n=!1;function e(a){if(o.push(a),a.id===l&&(n=!0),!n&&a.children!=null&&a.children.length>0)for(let r=0;r<a.children.length&&(e(a.children[r]),!n);r++);if(!n&&a.slots)for(let r in a.slots)for(let u=0;u<a.slots[r].length&&(e(a.slots[r][u]),!n);u++);n||o.pop()}return t.forEach(e),o}function ft(t,l,o){const n=l.split(".");let e=t;for(let a=0;a<n.length;a++){if(e==null)return o;e=e[n[a]]}return e===void 0?o:e}function mt(t,l,o){const n=l.replace(/\[(\d+)]/g,".$1").split(".").filter(Boolean);let e=t;for(let a=0;a<n.length-1;a++){const r=n[a];e[r]==null&&(e[r]=Number.isNaN(Number(n[a+1]))?{}:[]),e=e[r]}return e[n[n.length-1]]=o,t}function re(t,l,o=!1,n){const e=[],a=[...t];for(;a.length;){const r=a.pop();if(r!=null&&r.children&&!n&&a.push(...r.children),r!=null&&r.slots&&!n)for(let u in r.slots)a.push(...r.slots[u]);if(l(r)&&(e.push(r),o))return r}return o?!1:e}function Oe(t,l,o){const n=[...t];for(;n.length;){const e=n.pop();if(e!=null&&e.children&&!o&&n.push(...e.children),e!=null&&e.slots&&!o)for(let a in e.slots)n.push(...e.slots[a]);U(e,l(e))}return t}function ht(t,l){const o=re(t,n=>n.id===l,!0);if(!o)throw new Error(`没有查询到id为${l}的节点`);return o}function vt(t,l){const o=[{type:"",children:t}];let n=0,e=null;if(re(o,a=>{if(e=a.children??null,!e){if(a!=null&&a.slots)for(let r in a.slots){e=a.slots[r];for(let u=0;u<e.length;u++)if(e[u].id===l)return n=u,!0}return!1}for(let r=0;r<e.length;r++)if(e[r].id===l)return n=r,!0;return!1},!0),!e)throw new Error(`没有查询到id为${l}的节点`);return{list:e,schema:e[n],index:n}}function _t(t){const l={schemas:[{type:"page",id:"root",label:"页面",children:[{label:"表单",type:"form",icon:"elegant-icon-daibanshixiang",labelWidth:t.config.labelWidth||100,name:"default",componentProps:{layout:t.config.layout||"horizontal",labelWidth:t.config.labelWidth||100,labelLayout:t.config.labelLayout==="flex"?"fixed":"flex",labelCol:t.config.labelCol||{span:5},wrapperCol:t.config.wrapperCol||{span:19},hideRequiredMark:t.config.hideRequiredMark||!1,colon:t.config.colon||!0,labelAlign:t.config.labelAlign||"right",size:t.config.size||"middle"},children:[],id:`form_${te()}`}],componentProps:{style:{padding:"16px"}}}],script:t.script||""};return l.schemas[0].children[0].children=Y(t.list),l}function Y(t,l){return t.map(o=>{var s,w,h;let n=o.type??"";const e=o.options??{},a=(E,b)=>{n===E&&(n=b,e.defaultValue&&(e.defaultValue=JSON.parse(e.defaultValue)))};if(a("uploadImg","upload-image"),a("uploadFile","upload-file"),n==="date"&&e.range&&(e.type="daterange",delete e.range),(n==="date"||n==="time")&&(e.valueFormat=e.format),n==="textarea"){const{minRows:E,maxRows:b}=e;e.autoSize={minRows:E,maxRows:b},delete e.minRows,delete e.maxRows}n==="number"&&!e.precision&&delete e.precision,e.width&&(e.style={width:e.width},delete e.width),n==="grid"&&(n="row"),l&&l.type==="grid"&&(n="col",e.span=o.span,o.key=te());const r={label:o.label,type:n,icon:o.icon||"",field:o.model,componentProps:e,id:o.key};return(e.noFormItem||!e.showLabel)&&(r.noFormItem=!0,delete e.noFormItem,delete e.showLabel),e.clearable&&(e.allowClear=!0,delete e.clearable),["input","textarea","number","password","select","cascader","checkbox","radio","date","time","slider","switch","color-picker","upload-file","upload-image"].includes(n)&&(r.input=!0,((w=(s=o.rules)==null?void 0:s[0])==null?void 0:w.required)===!1&&o.rules.shift(),((h=o.rules)==null?void 0:h.length)>0&&(r.rules=o.rules)),o.list&&(r.children=Y(o.list,o)),o.columns&&(r.children=Y(o.columns,o)),o.trs&&(r.children=Y(o.trs,o)),o.tds&&(r.children=Y(o.tds,o)),r})}function me(){const t=_({}),l=_({}),o=_(!1),n=_([]),e=Z({});function a(d){return t.value[d]}function r(d,v){t.value[d]=v}function u(d){delete t.value[d]}function s(d,v=!1){const f=Object.entries(P.publicMethods).reduce((D,[T,z])=>(D[T]=z.handler,D),{});try{new Function(`const elegant = this;${d}`).bind({...f,getComponent:a,find:a,defineExpose:w,publicMethods:f,pluginManager:P})()}catch{}}function w(d){d!=null&&(l.value=d)}function h(d,...v){!d||d.length===0||d.forEach(f=>{const D=f.args?JSON.parse(f.args):v;switch(f.type){case"public":E(f,D);break;case"custom":b(f,D);break;case"component":m(f,D);break}})}function E(d,v){var f;try{(f=P.publicMethods[d.methodName])==null||f.handler(...v)}catch{}}function b(d,v){var f,D;try{(D=(f=l.value)[d.methodName])==null||D.call(f,...v)}catch{}}function m(d,v){const f=d.componentId!=null&&a(d.componentId);if(f)try{f[d.methodName](...v)}catch{}}function p(d=!0){o.value=d}function c(d){const v=re(d,()=>!0);n.value=v.map(f=>f.id)}function g(d,v="default"){if(e[v]){const f=e[v];U(d,f)}e[v]=d}function S(d,v="default"){if(e[v]){U(e[v],d,!1);return}e[v]=d}return{componentInstances:t,funcs:l,isDesignMode:o,defaultComponentIds:n,forms:e,addFormData:g,setFormData:S,getComponentInstance:a,find:a,addComponentInstance:r,removeComponentInstance:u,setMethods:s,doActions:h,setDesignMode:p,setDefaultComponentIds:c}}function Fe(){const t=_([]),l=_([]),o=_(null);let n=0;function e(s,w="插入组件"){const h=Date.now();n+150>h||(n=h,o.value!=null&&(t.value.push(o.value),l.value.splice(0,l.value.length)),o.value={type:w,componentSchema:JSON.stringify(s)},t.value.length>60&&t.value.unshift())}function a(){if(t.value.length===0)return!1;const s=t.value.pop();return o.value!=null&&l.value.push(o.value),o.value=s,JSON.parse(s.componentSchema)}function r(){if(l.value.length===0)return!1;const s=l.value.pop();return o.value!=null&&t.value.push(o.value),o.value=s,JSON.parse(s.componentSchema)}function u(){t.value=[],l.value=[],o.value=null}return{recordList:t,undoList:l,currentRecord:o,push:e,undo:a,redo:r,reset:u}}const Me=q({__name:"dynamicFormItem",props:{hasFormItem:{type:Boolean},formItemProps:{}},emits:["updateFormItemRef"],setup(t,{emit:l}){const o=t,n=l,e=P.getComponent("form-item"),a=_();function r(){n("updateFormItemRef",a.value)}return(u,s)=>o.hasFormItem?(V(),B(x(e),se({key:0,ref_key:"formItemRef",ref:a},o.formItemProps,{onVnodeMounted:r}),{default:R(()=>[O(u.$slots,"default")]),_:3},16,["onVnodeMounted"])):O(u.$slots,"default",{key:1})}}),Te=q({name:"ENode",__name:"node",props:{componentSchema:{},modelValue:{},ruleField:{},resetFormData:{type:Boolean},name:{}},emits:["update:modelValue","change"],setup(t,{emit:l}){const o=t,n=l;let e=Z(M(o.componentSchema));const a=W(()=>P.getComponentConfingByType(e.type)??null),{proxy:r}=de(),u=_(null);let s=J("formData",Z({}));const w=J("slots",{}),h=J("pageManager",{}),E=J("disabled",{value:!1}),b=J("ruleFieldPrefix",null),m=J("resetFormData",!1);p(),$(()=>o.componentSchema,i=>{fe(e,i,["children"])||(U(e,M(i)),p())},{deep:!0});function p(){h.isDesignMode.value&&typeof e.field=="string"&&(e.field+="-design-mode")}(o.resetFormData||m)&&(s={});const c=_(),g=_();function S(i){g.value=i}const d=ge();Object.keys(d).length&&F("nodeAttrs",d);const v=ye(null),f=W(()=>{var i,y;return(i=e.componentProps)!=null&&i.hidden?!1:typeof e.show=="boolean"?e.show:((y=e.show)==null?void 0:y.call(e,{values:s}))??!0}),D=W(()=>{var C;const i=f.value&&((C=e.rules)==null?void 0:C.map(k=>({...k,validator:k.validator&&h.funcs.value[k.validator]})));let y=e.field;o.ruleField?y=o.ruleField:b&&e.field&&(y=M(b),y.push(e.field));const I={...e,rules:i,rule:i,field:y};return I.children&&delete I.children,I}),T=W(()=>{var I,C;const i=((I=a.value)==null?void 0:I.bindModel)??"modelValue",y={};return e.on&&Object.keys(e.on).forEach(k=>{y[`on${Re(k)}`]=(...he)=>h.doActions(e.on[k],...he)}),{...o,...e.componentProps,disabled:(E==null?void 0:E.value)||((C=e.componentProps)==null?void 0:C.disabled),bindModel:i,...y}});ee(()=>{u.value=o.modelValue??s[e.field??""]}),$(()=>u.value,()=>{K(u.value)}),$(()=>c.value,()=>{z()},{immediate:!0});function z(){var y;const i=c.value||r;e.id&&i&&(e.input&&(i.setValue=K,i.getValue=()=>s[e.field]||o.modelValue),i.setAttr=(I,C)=>(e.componentProps||(e.componentProps={}),e.componentProps[I]=C),i.getAttr=I=>e.componentProps[I],h.addComponentInstance(e.id,i),(y=a.value)!=null&&y.defaultSchema.input&&e.noFormItem!==!0&&g.value&&h.addComponentInstance(`${e.id}formItem`,g.value))}function j(){var i;e.id&&(h.removeComponentInstance(e.id),(i=a.value)!=null&&i.defaultSchema.input&&e.noFormItem!==!0&&h.removeComponentInstance(`${e.id}formItem`))}async function ne(){var y,I,C;if(typeof((y=e.componentProps)==null?void 0:y.defaultValue)<"u"){const k=h.isDesignMode.value?(I=e.componentProps)==null?void 0:I.defaultValue:s[e.field]??((C=e.componentProps)==null?void 0:C.defaultValue);K(M(k))}if(e.type==="slot"){const k=e.slotName;if(!k)return;v.value=q({setup(){return()=>O(w,k,{componentSchema:e,model:s})}});return}const i=P.getComponent(e.type);if(i)if(typeof i=="function"){const k=await i();v.value=k.default??k}else v.value=i}function K(i){n("update:modelValue",i),n("change",i),e.field&&(s[e.field]=i)}let Q=null;return $(()=>e,i=>{const y=JSON.stringify({...i,children:void 0});if(y===Q)return!1;Q=y,ne()},{immediate:!0,deep:!0}),ue(j),(i,y)=>{var C;const I=be("ENode");return v.value&&f.value?(V(),B(Me,{key:0,"has-form-item":x(e).noFormItem!==!0&&((C=a.value)==null?void 0:C.defaultSchema.input),"form-item-props":D.value,onUpdateFormItemRef:S},{default:R(()=>[(V(),B(we(v.value),se({ref_key:"componentInstance",ref:c},{...T.value},{[T.value.bindModel]:u.value,["onUpdate:"+T.value.bindModel]:y[0]||(y[0]=k=>u.value=k),model:x(s),onVnodeMounted:z}),{node:R(k=>[L(I,Ee(Ae(k)),null,16)]),"edit-node":R(()=>[O(i.$slots,"edit-node")]),_:3},16,["model"]))]),_:3},8,["has-form-item","form-item-props"])):ce("",!0)}}});function Le(){const t=_(!1),l=me(),o=_({});function n(){return new Promise(m=>{if(t.value)m();else{const p=$(t,()=>{p(),m()})}})}async function e(m="default"){var c;await n();const p=(c=o.value)==null?void 0:c[m];if(!p)throw new Error(`表单 [name=${m}] 不存在`);return p}async function a(m,p){const c=await e(m);return M(await p(c))}async function r(m="default"){return await a(m,p=>p.getData())}function u(m,p="default"){var g;l.setFormData(m,p);const c=(g=o.value)==null?void 0:g[p];c==null||c.clearValidate()}async function s(m="default"){return await a(m,async p=>(await p.validate(),await p.getData()))}async function w(m){await n();const p={};for(const c in o.value){const g=o.value[c];g&&(p[c]=M(await m(g)))}return p}async function h(){return await w(m=>m.getData())}function E(m){for(const p in m)u(m[p],p)}async function b(){return await w(async m=>(await m.validate(),await m.getData()))}return{ready:t,pageManager:l,forms:o,getData:r,setData:u,validate:s,getForms:h,setForms:E,validateAll:b,getFormInstance:e}}const $e={key:0,class:"elegant-loading-box"},ze={key:1},Ne={class:"elegant-builder-main"},Be=q({__name:"builder",props:{pageSchema:{},formData:{},disabled:{type:Boolean}},emits:["ready"],setup(t,{expose:l,emit:o}){const n=t,e=o,a=H(()=>A(()=>import("./index-BYjrgkOC.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),{ready:r,pageManager:u,forms:s,getData:w,setData:h,validate:E,getForms:b,setForms:m,validateAll:p,getFormInstance:c}=Le(),g=Z({schemas:[]});$(()=>n.pageSchema,f=>{U(g,f)},{immediate:!0,deep:!0}),$(()=>n.formData,f=>{f&&h(f)},{immediate:!0,deep:!0}),$(()=>g.script,f=>{f&&u.setMethods(f,!0)},{immediate:!0}),F("slots",xe()),F("pageManager",u),F("forms",s),F("pageSchema",g),F("disabled",W(()=>n.disabled));const S=de(),d=S==null?void 0:S.proxy;function v(){G(()=>{r.value=!0,e("ready",u),d&&u.addComponentInstance("builder",d)})}return G(()=>{P.initialized.value&&v()}),l({ready:r,pageManager:u,getData:w,setData:h,validate:E,getForms:b,setForms:m,validateAll:p,getFormInstance:c}),(f,D)=>x(P).initialized.value?(V(),X("div",ze,[N("div",Ne,[(V(!0),X(ke,null,De(g.schemas,(T,z)=>(V(),B(x(Te),{key:z,"component-schema":T},null,8,["component-schema"]))),128))])])):(V(),X("div",$e,[L(x(a))]))}});function gt(){const{isDark:t}=oe(),l=Pe(t);return{isDark:t,toggleDark:l}}function Ue(){const t=_(!1);return pe(()=>{Je(t),qe(t)}),$(()=>t.value,()=>{t.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),{isDark:t}}function Je(t){const l=document.documentElement;l&&(t.value=l.classList.contains("dark"))}function qe(t){const l=document.querySelector("html"),o=new MutationObserver(n=>{for(const e of n)if(e.type==="attributes"&&e.attributeName==="class"){const a=e.target;t.value=[...a.classList].includes("dark")}});o.observe(l,{attributes:!0,attributeFilter:["class"]}),ue(()=>{o.disconnect()})}function He(){const t=_(1),l=_(!1),{isDark:o}=Ue(),{pressSpace:n,pressShift:e,pressCtrl:a}=We();return{canvasScale:t,pressSpace:n,pressShift:e,pressCtrl:a,disabledZoom:l,isDark:o}}const oe=Se(He);function We(){const t=_(!1),l=_(!1),o=_(!1);return ae(" ",()=>{t.value=!0}),le(" ",()=>{t.value=!1}),ae("Shift",n=>{n.preventDefault(),l.value=!0}),le("Shift",()=>{l.value=!1}),ae("Control",n=>{n.preventDefault(),o.value=!0}),le("Control",()=>{o.value=!1}),{pressSpace:t,pressShift:l,pressCtrl:o}}function yt(t){const{pressSpace:l}=oe(),o=new Image(1,1);o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==";let n=0,e=0;function a(s){var w;l.value&&(n=s.x,e=s.y,(w=s.dataTransfer)==null||w.setDragImage(document.createElement("div"),0,0))}function r(s){if(s.preventDefault(),!s.x||!s.y||!l.value)return;const w=s.x-n,h=s.y-e;n=s.x,e=s.y,t.value&&(t.value.scrollTop-=h,t.value.scrollLeft-=w)}function u(){l.value=!1}return{handleElementDragStart:a,handleElementDrag:r,handleElementDragEnd:u}}function bt(t){const{pressCtrl:l,canvasScale:o,disabledZoom:n}=oe();function e(a){if(!l.value||n.value)return;a.preventDefault();let r=0;a.deltaY<0?r=o.value+.05:r=o.value-.05,!(r>150||r<.5)&&(o.value=r)}return $(()=>o.value,a=>{t.value&&!n.value&&(t.value.style.transform=`scale(${a})`)}),{handleZoom:e,canvasScale:o}}function wt(t,l=16.66){let o;function n(){e(),o=window.setInterval(t,l)}function e(){window.clearInterval(o)}return{startTimedQuery:n,stopTimedQuery:e}}const Ze={class:"min-w-750px rounded"},Ke={class:"h-full rounded"},Qe=q({__name:"index",setup(t,{expose:l}){const o=P.getComponent("monacoEditor"),n=P.getComponent("modal"),e=_(null),a=_(!1),r=_(!1),u=_({}),s=J("pageSchema"),w=_(null),h=_("");function E(){r.value=!1}function b(){a.value=!1}function m(){a.value=!0,h.value=te()}async function p(){try{let c=await w.value.validateAll();if(!Object.keys(c).length){alert("请添加表单组件后再尝试！");return}Object.keys(c).length===1&&(c=c.default),u.value=JSON.stringify(c,null,2),G(()=>{var g;(g=e.value)==null||g.setValue(u.value)}),r.value=!0}catch{}}return l({handleOpen:m}),(c,g)=>(V(),B(x(n),{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=S=>a.value=S),title:"预览",class:"w-900px",width:"900px","ok-text":"表单数据",onClose:b,onOk:p},{default:R(()=>[N("div",Ze,[(V(),B(x(Be),{key:h.value,ref_key:"kb",ref:w,"page-schema":x(s)},null,8,["page-schema"])),L(x(n),{modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=S=>r.value=S),title:"表单数据",class:"w-860px",width:"860px",onClose:E,onOk:E},{default:R(()=>[N("div",Ke,[L(x(o),{ref_key:"monacoEditorRef",ref:e,"auto-toggle-theme":"","read-only":"",class:"editor h-full","model-value":u.value},null,8,["model-value"])])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]))}}),Ye={key:0,class:"elegant-loading-box"},Xe={key:1},Ge={class:"elegant-designer-main"},je={class:"elegant-header-container"},et=q({__name:"designer",props:{disabledZoom:{type:Boolean,default:!1},hiddenHeader:{type:Boolean,default:!1},lockDefaultSchemaEdit:{type:Boolean,default:!1},formMode:{type:Boolean,default:!1},title:{default:"elegantDesigner默认项目"},defaultSchema:{},sourceCodeReadOnly:{type:Boolean}},emits:["ready","save","reset","toggleDeviceMode"],setup(t,{expose:l,emit:o}){const n=t,e=o,a=H(()=>A(()=>import("./index-Dl8AcDeo.js"),__vite__mapDeps([4,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),import.meta.url)),r=H(()=>A(()=>import("./index-DkNqqTLX.js"),__vite__mapDeps([48,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),import.meta.url)),u=H(()=>A(()=>import("./index-DrohSPRq.js"),__vite__mapDeps([49,2,29,30,8,9,10,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50,51,1,3]),import.meta.url)),s=H(()=>A(()=>import("./index-C8CUPCL0.js"),__vite__mapDeps([52,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]),import.meta.url)),w=H(()=>A(()=>import("./index-BYjrgkOC.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),h=me(),E=Fe();let b={schemas:[{type:"page",id:"root",label:"页面",children:[],componentProps:{style:{padding:"16px"}}}],script:`const { defineExpose, find } = elegant;

function test (){
    console.log('test')
}

// 通过defineExpose暴露的函数或者属性
defineExpose({
 test
})`};ee(()=>{if(n.defaultSchema){b=n.defaultSchema;return}n.formMode&&(b.schemas=P.formSchemas)}),h.setDesignMode(),h.setDefaultComponentIds(b.schemas);const m=_(null),p=Z({checkedNode:null,hoverNode:null,disableHover:!1,matched:[]}),c=Z({schemas:[],script:b.script}),{disabledZoom:g}=oe();ee(()=>{g.value=n.disabledZoom}),ee(()=>{const i=c.script;i&&i!==""&&h.setMethods(i)}),F("pageSchema",c),F("revoke",E),F("pageManager",h),F("designerProps",W(()=>n)),F("designer",{setCheckedNode:d,setHoverNode:v,setDisableHover:D,handleToggleDeviceMode:K,reset:j,state:p});function S(){c.schemas=M(b.schemas),d(c.schemas[0]),E.push(c.schemas,"初始化撤销功能")}async function d(i=c.schemas[0]){p.checkedNode=i,p.matched=Ve(c.schemas,i.id)}async function v(i=null){var y;if(!i||p.disableHover)return p.hoverNode=null,!1;if((i==null?void 0:i.id)===((y=p.hoverNode)==null?void 0:y.id))return!1;p.hoverNode=i}function f(){G(()=>{e("ready",{pageManager:h})})}G(()=>{P.initialized.value&&f()});async function D(i=!1){p.disableHover=i}function T(i){U(c,M(i))}function z(){return ie(c)}function j(){fe(c.schemas,b.schemas)&&c.script===b.script||(U(c.schemas,b.schemas),c.script=b.script,d(c.schemas[0]),E.push(c.schemas,"重置操作"),e("reset",c))}function ne(){e("save",ie(c))}function K(i){e("toggleDeviceMode",i)}function Q(){m.value.handleOpen()}return S(),l({revoke:E,setData:T,getData:z,reset:j,preview:Q}),(i,y)=>x(P).initialized.value?(V(),X("div",Xe,[N("div",Ge,[N("div",je,[O(i.$slots,"header",{},()=>[n.hiddenHeader?ce("",!0):(V(),B(x(a),{key:0,onPreview:Q,onSave:ne},{header:R(()=>[O(i.$slots,"header-prefix")]),prefix:R(()=>[O(i.$slots,"header-prefix")]),title:R(()=>[O(i.$slots,"header-title")]),"right-prefix":R(()=>[O(i.$slots,"header-right-prefix")]),"right-action":R(()=>[O(i.$slots,"header-right-action")]),"right-suffix":R(()=>[O(i.$slots,"header-right-suffix")]),_:3}))])]),N("div",{class:Ie(["elegant-split-view-container",{"hidden-header":i.hiddenHeader}])},[L(x(r)),L(x(u)),L(x(s))],2),L(Qe,{ref_key:"previewRef",ref:m},null,512)])])):(V(),X("div",Ye,[L(x(w))]))}}),tt={component:async()=>await A(()=>import("./index-CpWCeqqY.js"),__vite__mapDeps([53,42,43,2,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,44,45,46,54]),import.meta.url),defaultSchema:{label:"代码编辑器",type:"monacoEditor",field:"monacoEditor",icon:"elegant-icon-write",input:!0},config:{attribute:[{label:"字段名",type:"input",field:"field"},{label:"标题",type:"input",field:"label"},{label:"默认值",type:"monacoEditor",field:"componentProps.defaultValue"}]},bindModel:"model-value"},ot={component:async()=>await A(()=>import("./index-Cbfr_yh5.js"),__vite__mapDeps([55,2]),import.meta.url),defaultSchema:{label:"页面",type:"page",componentProps:{},children:[]},config:{attribute:[{label:"页面名称",type:"input",componentProps:{placeholder:"请输入"},field:"componentProps.name"}]}};function nt(t){t.component("EInputSize",async()=>await A(()=>import("./index-ChU32OFE.js"),__vite__mapDeps([56,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),import.meta.url)),t.component("EColEditor",async()=>await A(()=>import("./index-Djqcvyw_.js"),__vite__mapDeps([57,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,1,3]),import.meta.url)),t.component("EActionEditor",async()=>await A(()=>import("./index-BPUV7E46.js"),__vite__mapDeps([58,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,50,51,47,59,1,3]),import.meta.url)),t.component("ERuleEditor",async()=>await A(()=>import("./index-BxkxyQWa.js"),__vite__mapDeps([60,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,1,3]),import.meta.url)),t.component("EOptionsEditor",async()=>await A(()=>import("./index-DbU1zECx.js"),__vite__mapDeps([61,2,29,30,8,9,10,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,50,51,47,1,3]),import.meta.url)),t.component("ENode",async()=>await A(()=>import("./index-C6K1_N3Q.js"),__vite__mapDeps([62,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,1,3]),import.meta.url)),t.registerActivitybar({id:"component_view",title:"组件",icon:"icon--elegant--extension-outline",component:async()=>await A(()=>import("./index-BzfNkS1w.js"),__vite__mapDeps([63,2,50,8,9,10,51,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,1,3]),import.meta.url)}),t.registerActivitybar({id:"sound_code_view",title:"源码",icon:"icon--elegant--sdk-outline-rounded",component:async()=>await A(()=>import("./index-Cyj0A5IF.js"),__vite__mapDeps([64,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,1,3]),import.meta.url)}),t.registerActivitybar({id:"outline_view",title:"大纲",icon:"icon--elegant--account-tree-outline-rounded",component:async()=>await A(()=>import("./outline-CQX5zp20.js"),__vite__mapDeps([65,2,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,59,47,50,51]),import.meta.url)}),t.registerRightSidebar({id:"attribute_view",title:"属性",component:async()=>await A(()=>import("./attributeView-CVMrtkem.js"),__vite__mapDeps([66,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,1,3]),import.meta.url)}),t.registerRightSidebar({id:"style_view",title:"样式",component:async()=>await A(()=>import("./styleView-DnkD_Pvf.js"),__vite__mapDeps([67,2,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,1,3]),import.meta.url)}),t.registerRightSidebar({id:"event_view",title:"事件",component:async()=>await A(()=>import("./eventView-DH7-3coS.js"),__vite__mapDeps([68,5,6,7,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,1,3]),import.meta.url)}),[tt,ot].forEach(o=>{t.registerComponent(o)})}nt(P);const at=q({__name:"index",setup(t){const l=_e(),o=_(),n={schemas:[{type:"page",id:"root",label:"页面",children:[{label:"表单",type:"form",icon:"elegant-icon-daibanshixiang",componentProps:{layout:"horizontal",name:"default",labelWidth:100,labelLayout:"fixed",labelCol:{span:5},wrapperCol:{span:19},hideRequiredMark:!1,colon:!0,labelAlign:"right",size:"default","label-position":"top"},children:[{label:"1、您的身份是",type:"radio",field:"radio_xpls3ww4",input:!0,componentProps:{options:[{label:"家长",value:"option_22i498sd"},{label:"学生",value:"option_b94fenks"}],size:"default"},id:"radio_xpls3ww4"},{label:"2、您（或您的孩子）所选择课程是",type:"radio",field:"radio_uonztj0i",input:!0,componentProps:{options:[{label:"语文",value:"option_22i498sd"},{label:"数学",value:"option_uc1rdff4"},{label:"英语",value:"option_n96uigyg"}],size:"default"},id:"radio_uonztj0i"},{label:"3、授课老师为",type:"select",field:"select_jvojdh2k",input:!0,componentProps:{options:[{label:"托尼老师",value:"option_694vkr5f"},{label:"张三丰老师",value:"option_1huuovdc"},{label:"张雪峰老师",value:"option_n9il8y2c"}],placeholder:"请选择",size:"default",effect:"light",placement:"bottom-start"},id:"select_jvojdh2k"},{label:"4、您有极大可能把我们推荐给身边的朋友",type:"radio",field:"radio_jm1kxy75",input:!0,componentProps:{options:[{label:"不可能",value:"option_22i498sd"},{label:"极有可能",value:"option_awrynffg"}],size:"default"},id:"radio_jm1kxy75"},{label:"请从0到10进行打分",type:"slider",field:"slider_es0mehas",input:!0,componentProps:{placement:"top-start",showTooltip:!0,hidden:!0,style:{backgroundColor:null}},id:"slider_es0mehas"},{label:"5、您对课程的满意程度为？",type:"radio",field:"radio_cdlaku47",input:!0,componentProps:{options:[{label:"很不满意",value:"option_22i498sd"},{label:"非常满意",value:"option_vzx5c2l3"}],size:"default"},id:"radio_cdlaku47"},{label:"请从0到10进行打分",type:"slider",field:"slider_ggjxvqg7",input:!0,componentProps:{placement:"top-start",showTooltip:!0,hidden:!0,style:{}},id:"slider_ggjxvqg7"},{label:"6、上课后，学生成绩是否有所提高？",type:"radio",field:"radio_f8ntslo0",input:!0,componentProps:{options:[{label:"明显提高",value:"option_22i498sd"},{label:"有所提高",value:"option_umfx0rva"},{label:"没有明显效果",value:"option_1prpfoag"}],size:"default"},id:"radio_f8ntslo0"},{label:"7、您是否愿意继续参加我们的其他课程？",type:"radio",field:"radio_at4xbyag",input:!0,componentProps:{options:[{label:"愿意继续参加",value:"option_22i498sd"},{label:"需要考虑",value:"option_s48xc4ws"},{label:"不再参加",value:"option_018npznl"}],size:"default"},id:"radio_at4xbyag"},{label:"8、您的意见和建议",type:"textarea",field:"textarea_5im11oab",input:!0,componentProps:{placeholder:"请输入",type:"textarea",autosize:{maxRows:5,minRows:5},maxlength:500},id:"textarea_5im11oab"}],id:"form_eifo73no"}],componentProps:{style:{padding:"16px"}}}],script:`const { defineExpose, find } = elegant;

function test (){
    console.log('test')
}

// 通过defineExpose暴露的函数或者属性
defineExpose({
 test 
})`};pe(()=>{var a;(a=o.value)==null||a.setData(n)});function e(a){}return(a,r)=>{const u=ve;return V(),B(x(et),{ref_key:"designerRef",ref:o,title:"调查问卷",onSave:e},{"header-prefix":R(()=>[N("div",{class:"header-back ml-10px flex cursor-pointer items-center rounded-4px px-10px py-4px text-18px font-500",onClick:r[0]||(r[0]=s=>x(l).back())},[L(u,{name:"ep:back"}),r[1]||(r[1]=N("span",{class:"ml-4px text-14px"},"返回",-1))])]),_:1},512)}}}),lt=Ce(at,[["__scopeId","data-v-08396420"]]),Et=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"}));export{Te as _,wt as a,yt as b,_t as c,U as d,bt as e,vt as f,pt as g,te as h,ht as i,M as j,fe as k,ft as l,gt as m,Et as n,mt as s,oe as u};


/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{n as s}from"./micromark-util-normalize-identifier-C9ANKk3v.js";import{t as l,s as c,a as u,i as h,c as g}from"./mdast-util-to-markdown-BorbFZew.js";m.peek=p;function z(){return{enter:{gfmFootnoteDefinition:F,gfmFootnoteDefinitionLabelString:b,gfmFootnoteCall:C,gfmFootnoteCallString:D},exit:{gfmFootnoteDefinition:k,gfmFootnoteDefinitionLabelString:d,gfmFootnoteCall:v,gfmFootnoteCallString:S}}}function y(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:x,footnoteReference:m}}}function F(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function b(){this.buffer()}function d(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=s(this.sliceSerialize(e)).toLowerCase()}function k(e){this.exit(e)}function C(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function D(){this.buffer()}function S(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=s(this.sliceSerialize(e)).toLowerCase()}function v(e){this.exit(e)}function m(e,i,t,r){const n=l(r);let o=n.move("[^");const f=t.enter("footnoteReference"),a=t.enter("reference");return o+=n.move(c(t,u(e),{...n.current(),before:o,after:"]"})),a(),f(),o+=n.move("]"),o}function p(){return"["}function x(e,i,t,r){const n=l(r);let o=n.move("[^");const f=t.enter("footnoteDefinition"),a=t.enter("label");return o+=n.move(c(t,u(e),{...n.current(),before:o,after:"]"})),a(),o+=n.move("]:"+(e.children&&e.children.length>0?" ":"")),n.shift(4),o+=n.move(h(g(e,t,n.current()),L)),f(),o}function L(e,i,t){return i===0?e:(t?"":"    ")+e}export{z as a,y as g};

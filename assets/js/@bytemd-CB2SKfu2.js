
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{E as x,g as T}from"./bytemd-C_GYOmml.js";import{d as f,r as l,w as m,o as v,a as w,c as $,b as p,n as C,e as _}from"./@vue-B5ZJ3lyG.js";import{r as y}from"./remark-gfm-H3eu1l6R.js";const M=f({props:{value:String,plugins:Array,sanitize:Function,remarkRehype:Object,mode:String,previewDebounce:Number,placeholder:String,editorConfig:Object,locale:Object,uploadImages:Function},emits:["change"],setup(e,{emit:a}){const t=l(null),n=l(null);return m(()=>e,o=>{var s;const r={...o};for(let c in r)r[c]===void 0&&delete r[c];(s=n.value)==null||s.$set(r)},{deep:!0}),v(()=>{const o=new x({target:t.value,props:e});o.$on("change",s=>{a("change",s.detail.value)}),n.value=o}),{el:t}}}),b=(e,a)=>{const t=e.__vccOpts||e;for(const[n,o]of a)t[n]=o;return t},H={ref:"el"};function S(e,a,t,n,o,s){return w(),$("div",H,null,512)}const J=b(M,[["render",S]]),B=f({props:["value","plugins","sanitize","remarkRehype"],setup(e,a){const t=l(null),n=l([]),o=p(()=>T(e).processSync(e.value)),s=p(()=>[o,e.plugins,e.sanitize,e.remarkRehype]);m(s,()=>{c(),C(()=>{h()})},{deep:!0}),v(()=>{h()}),_(()=>{c()});const r=i=>{const k=i.target;if(k.tagName!=="A")return;const d=k.getAttribute("href");if(!d||!d.startsWith("#"))return;const g=t.value.querySelector("#user-content-"+d.slice(1));g&&g.scrollIntoView()},c=()=>{n.value.length&&n.value.forEach(i=>i&&i())},h=()=>{e.plugins&&o&&(n.value=e.plugins.map(({viewerEffect:i})=>i&&i({markdownBody:t.value,file:o})))};return{markdownBody:t,file:o,handleClick:r}}}),j=["innerHTML"];function A(e,a,t,n,o,s){return w(),$("div",{innerHTML:e.file.toString(),className:"markdown-body",onClick:a[0]||(a[0]=(...r)=>e.handleClick&&e.handleClick(...r)),ref:"markdownBody"},null,8,j)}const K=b(B,[["render",A]]),u={Strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 24h38M24 24c16 6 10 20 0 20s-12-8-12-8M36 12s-3-8-12-8-12.564 7.6-8.39 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 36s4 8 12 8 12.564-7.6 8.39-14"/></svg>',CheckCorrect:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" clip-path="url(#a)"><path d="M42 20v19a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h21"/><path d="m16 20 10 8L41 7"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h48v48H0z"/></clipPath></defs></svg>',InsertTable:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-width="4" d="M39.3 6H8.7A2.7 2.7 0 0 0 6 8.7v30.6A2.7 2.7 0 0 0 8.7 42h30.6a2.7 2.7 0 0 0 2.7-2.7V8.7A2.7 2.7 0 0 0 39.3 6Z"/><path stroke="currentColor" stroke-linecap="round" stroke-width="4" d="M18 6v36M30 6v36M6 18h36M6 30h36"/></svg>'},P="Strikethrough",z="text",I="Table",L="Heading",O="Task list",R="todo",E={strike:P,strikeText:z,table:I,tableHeading:L,task:O,taskText:R};function Q({locale:e,...a}={}){const t={...E,...e};return{remark:n=>n.use(y,a),actions:[{title:t.strike,icon:u.Strikethrough,cheatsheet:`~~${t.strikeText}~~`,handler:{type:"action",click({wrapText:n,editor:o}){n("~~"),o.focus()}}},{title:t.task,icon:u.CheckCorrect,cheatsheet:`- [ ] ${t.taskText}`,handler:{type:"action",click({replaceLines:n,editor:o}){n(s=>"- [ ] "+s),o.focus()}}},{title:t.table,icon:u.InsertTable,handler:{type:"action",click({editor:n,appendBlock:o,codemirror:s}){const{line:r}=o(`| ${t.tableHeading} |  |
| --- | --- |
|  |  |
`);n.setSelection(s.Pos(r,2),s.Pos(r,2+t.tableHeading.length)),n.focus()}}}]}}const N="删除线",V="文本",F="表格",U="标题",q="任务列表",D="待办事项",X={strike:N,strikeText:V,table:F,tableHeading:U,task:q,taskText:D};export{X as a,J as e,Q as g,K as v};

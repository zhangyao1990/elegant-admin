
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{v as _}from"./index-qeCTDZwl.js";import{l as w,_ as V,s as d}from"./index-CN3V1Hei.js";import{d as C,i as u,b as N,r as S,g as P,a as s,c as i,F as B,a8 as D,q as m,Z as E,X as f,f as I,_ as x,k as h,n as z}from"./@vue-B5ZJ3lyG.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-CyY_Wk_H.js";import"./@imengyu-CEcZjhxx.js";import"./vue-DvVlWPqX.js";import"./floating-vue-AocVffS4.js";import"./@floating-ui-DiM7Jq06.js";import"./vue-m-message-CaZYo5LC.js";import"./overlayscrollbars-DIcyBJd7.js";import"./@iconify-BcJ8VpTk.js";import"./overlayscrollbars-vue-CwvYLriB.js";import"./@headlessui-Cgia3ZxR.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-0jcLrwUI.js";import"./lodash-es-Cgwu3vQX.js";import"./pinia-C6gN_FJk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-B53joON4.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-iUOJk6xm.js";import"./@vueuse-D9pgrdqz.js";import"./nprogress-CK9xi7fq.js";import"./@element-plus-DlsPF3Ud.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DHZ_rfNz.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BoS7Exf_.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-1i8roCpp.js";import"./path-browserify-CaPOtSVJ.js";import"./axios-CRnBnh7r.js";import"./vue-esign-CYl9_Ryz.js";const F=["title"],ke=C({__name:"attributeView",setup(U){const p=u("designer"),l=u("pageSchema"),v=u("revoke"),g=_.getComponentConfings(),r=N(()=>p.state.checkedNode);function y(t){var a;return typeof t.show=="boolean"?t.show:typeof t.show=="function"?(a=t.show)==null?void 0:a.call(t,{values:r.value}):!0}const c=S([]);P(()=>{var o,e,n;const t=(o=p.state.checkedNode)==null?void 0:o.type;if(!p.state.checkedNode||!t)return[];const a=((e=g[t])==null?void 0:e.config.attribute)??[];c.value=[{label:"组件ID",type:"input",field:"id",componentProps:{disabled:!0}},...a],p.state.checkedNode.id===((n=l.schemas[0])==null?void 0:n.id)&&c.value.push({label:"画布宽度",type:"EInputSize",field:"canvas.width",editData:l},{label:"画布高度",type:"EInputSize",field:"canvas.height",editData:l})});function b(t,a,o,e=r.value){typeof o.onChange=="function"&&o.onChange({value:t,values:e,componentAttributes:c}),o.changeSync?d(e,a,t):z(()=>{d(e,a,t)}),v.push(l.schemas,"编辑组件属性")}return(t,a)=>{var o;return s(),i("div",{key:(o=r.value)==null?void 0:o.id,class:"elegant-attribute-view"},[(s(!0),i(B,null,D(c.value,e=>{var n;return s(),i("div",{key:e.field},[y(e)?(s(),i("div",{key:0,class:m(["elegant-attr-item",e.layout])},[e.label?(s(),i("div",{key:0,class:"elegant-attr-label",title:e.label},E(e.label),9,F)):f("",!0),I("div",{class:m(["elegant-attr-input",{"block!":e.layout==="vertical"}])},[x(h(V),{"component-schema":{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(n=r.value)==null?void 0:n.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":h(w)(e.editData??r.value,e.field),"onUpdate:modelValue":k=>b(k,e.field,e,e.editData)},null,8,["component-schema","model-value","onUpdate:modelValue"])],2)],2)):f("",!0)])}),128))])}}});export{ke as default};

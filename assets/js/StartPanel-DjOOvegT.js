
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import E from"./ExecutionListeners-DDiw2FTE.js";import{d as k,bM as R,i as S,r as g,b as h,g as M,ai as d,a as $,S as B,U as r,_ as l,k as c,E as v}from"./@vue-B5ZJ3lyG.js";import{_ as H}from"./vue-esign-CYl9_Ryz.js";import"./index-qeCTDZwl.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-CyY_Wk_H.js";import"./@imengyu-CEcZjhxx.js";import"./vue-DvVlWPqX.js";import"./floating-vue-AocVffS4.js";import"./@floating-ui-DiM7Jq06.js";import"./vue-m-message-CaZYo5LC.js";import"./overlayscrollbars-DIcyBJd7.js";import"./@iconify-BcJ8VpTk.js";import"./overlayscrollbars-vue-CwvYLriB.js";import"./@headlessui-Cgia3ZxR.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-0jcLrwUI.js";import"./lodash-es-Cgwu3vQX.js";import"./pinia-C6gN_FJk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-B53joON4.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-iUOJk6xm.js";import"./@vueuse-D9pgrdqz.js";import"./nprogress-CK9xi7fq.js";import"./@element-plus-DlsPF3Ud.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DHZ_rfNz.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BoS7Exf_.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-1i8roCpp.js";import"./path-browserify-CaPOtSVJ.js";import"./axios-CRnBnh7r.js";const L=k({__name:"StartPanel",props:{activeData:{},activeDataModifiers:{}},emits:["update:activeData"],setup(y){const t=R(y,"activeData"),{fields:q}=S("flowDesign",{fields:g([])}),_=g("basicSettings"),u=h({get(){var a;return(a=t.value.formProperties)==null?void 0:a.every(e=>e.readonly)},set(a){var e;(e=t.value.formProperties)==null||e.forEach(n=>n.readonly=a),a&&(s.value=!1,p.value=!1)}}),p=h({get(){var a;return(a=t.value.formProperties)==null?void 0:a.every(e=>e.required)},set(a){var e;(e=t.value.formProperties)==null||e.forEach(n=>n.required=a),a&&(u.value=!1,s.value=!1)}}),s=h({get(){return t.value.formProperties.every(a=>a.hidden)},set(a){t.value.formProperties.forEach(e=>e.hidden=a),a&&(p.value=!1,u.value=!1)}});function P(a){a.readonly&&(a.required=!1,a.hidden=!1)}function U(a){a.required&&(a.readonly=!1,a.hidden=!1)}function x(a){a.hidden&&(a.readonly=!1,a.required=!1)}return M(()=>{const a=t.value.formProperties;t.value.formProperties=q.value.map(e=>({id:e.id,name:e.label,readonly:e.readonly||!1,hidden:e.hidden,required:e.required||!1})),t.value.formProperties.forEach(e=>{const n=a.find(b=>b.id===e.id);n&&(e.readonly=n.readonly,e.hidden=n.hidden,e.required=n.required)})}),(a,e)=>{const n=d("el-form-item"),b=d("el-form"),V=d("el-tab-pane"),f=d("el-table-column"),m=d("el-checkbox"),C=d("el-table"),D=d("el-tabs");return $(),B(D,{modelValue:c(_),"onUpdate:modelValue":e[4]||(e[4]=o=>v(_)?_.value=o:null),stretch:"",class:"tab-segmented"},{default:r(()=>[l(V,{label:"基础设置",name:"basicSettings"},{default:r(()=>[l(b,{"label-position":"top","label-width":"90px"},{default:r(()=>[l(n,{prop:"executionListeners",label:"执行监听器"},{default:r(()=>[l(E,{"active-data":t.value,"onUpdate:activeData":e[0]||(e[0]=o=>t.value=o)},null,8,["active-data"])]),_:1})]),_:1})]),_:1}),l(V,{label:"表单权限",name:"formPermissions"},{default:r(()=>[l(C,{data:t.value.formProperties},{default:r(()=>[l(f,{prop:"name",label:"字段"}),l(f,{prop:"readonly"},{header:r(()=>[l(m,{modelValue:c(u),"onUpdate:modelValue":e[1]||(e[1]=o=>v(u)?u.value=o:null),label:"只读"},null,8,["modelValue"])]),default:r(({row:o})=>[l(m,{modelValue:o.readonly,"onUpdate:modelValue":i=>o.readonly=i,onChange:i=>P(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(f,{prop:"required"},{header:r(()=>[l(m,{modelValue:c(p),"onUpdate:modelValue":e[2]||(e[2]=o=>v(p)?p.value=o:null),label:"必填"},null,8,["modelValue"])]),default:r(({row:o})=>[l(m,{modelValue:o.required,"onUpdate:modelValue":i=>o.required=i,onChange:i=>U(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(f,{prop:"hidden"},{header:r(()=>[l(m,{modelValue:c(s),"onUpdate:modelValue":e[3]||(e[3]=o=>v(s)?s.value=o:null),label:"隐藏"},null,8,["modelValue"])]),default:r(({row:o})=>[l(m,{modelValue:o.hidden,"onUpdate:modelValue":i=>o.hidden=i,onChange:i=>x(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),ye=H(L,[["__scopeId","data-v-32ae1feb"]]);export{ye as default};

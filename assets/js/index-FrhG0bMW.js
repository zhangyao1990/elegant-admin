
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-IWpKdA7_.js";import{x as P,u as Z,a as q}from"./index-qeCTDZwl.js";import{d as S,a as l,c as m,N as B,ai as d,ar as A,_ as t,U as e,k as f,f as i,Y as s,Z as z,V as v}from"./@vue-B5ZJ3lyG.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-RB9jAAaE.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-BkLPq0py.js";import{u as J}from"./vue-router-B53joON4.js";import{u as K}from"./useMainPage-KsaXQm0k.js";import{a as b}from"./element-plus-iUOJk6xm.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-CyY_Wk_H.js";import"./@imengyu-CEcZjhxx.js";import"./vue-DvVlWPqX.js";import"./floating-vue-AocVffS4.js";import"./@floating-ui-DiM7Jq06.js";import"./vue-m-message-CaZYo5LC.js";import"./overlayscrollbars-DIcyBJd7.js";import"./@iconify-BcJ8VpTk.js";import"./overlayscrollbars-vue-CwvYLriB.js";import"./@headlessui-Cgia3ZxR.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-0jcLrwUI.js";import"./lodash-es-Cgwu3vQX.js";import"./pinia-C6gN_FJk.js";import"./vue-demi-Dq6ymT-8.js";import"./hotkeys-js-BfWqkGRU.js";import"./vue-i18n-BoS7Exf_.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-1i8roCpp.js";import"./path-browserify-CaPOtSVJ.js";import"./axios-CRnBnh7r.js";import"./@vueuse-D9pgrdqz.js";import"./nprogress-CK9xi7fq.js";import"./@element-plus-DlsPF3Ud.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DHZ_rfNz.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";const L=S({name:"AuthAll",__name:"index",props:{value:{}},setup(E){const w=E;function g(){return P().authAll(w.value)}return(r,x)=>(l(),m("div",null,[g()?B(r.$slots,"default",{key:0}):B(r.$slots,"no-auth",{key:1})]))}}),O={key:0},Q={key:1},jo=S({__name:"index",setup(E){const w=J(),g=Z(),r=q(),{auth:x,authAll:V}=P(),R=K();async function T(p){await r.login({account:p,password:""}),await r.getPermissions(),R.reload()}function D(){w.push({name:"PermissionDemoTest"})}function y(p){x(p)?b.success("校验通过"):b.error("校验不通过")}function G(p){V(p)?b.success("校验通过"):b.error("校验不通过")}return(p,o)=>{const N=I,k=d("ElRadioButton"),M=d("ElRadioGroup"),u=d("ElButton"),n=d("ElTag"),_=F,U=L,$=d("ElButtonGroup"),j=Y,C=A("auth"),H=A("auth-all");return l(),m("div",null,[t(N,{title:"权限验证"}),t(j,null,{default:e(()=>[f(g).settings.app.enablePermission?(l(),m("div",Q,[o[23]||(o[23]=i("h3",null,"切换帐号",-1)),t(M,{modelValue:f(r).account,"onUpdate:modelValue":o[0]||(o[0]=a=>f(r).account=a),onChange:T},{default:e(()=>[t(k,{label:"admin",value:"admin"}),t(k,{label:"test",value:"test"}),t(k,{label:"hooray",value:"hooray"},{default:e(()=>o[5]||(o[5]=[s(" hooray(无权限) ")])),_:1})]),_:1},8,["modelValue"]),o[24]||(o[24]=i("h3",null,"帐号权限",-1)),i("div",null,z(f(r).permissions),1),o[25]||(o[25]=i("h3",null,"访问鉴权页面",-1)),i("div",null,[t(u,{onClick:D},{default:e(()=>o[6]||(o[6]=[s(" 点击访问 ")])),_:1})]),o[26]||(o[26]=i("h3",null,"鉴权组件（请对照代码查看）",-1)),i("div",null,[t(_,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[t(n,{type:"danger"},{default:e(()=>o[8]||(o[8]=[s(" 你没有 permission.browse 权限 ")])),_:1})]),default:e(()=>[t(n,null,{default:e(()=>o[7]||(o[7]=[s("你有 permission.browse 权限")])),_:1})]),_:1}),t(_,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[t(n,{type:"danger"},{default:e(()=>o[10]||(o[10]=[s(" 你没有 permission.create 权限 ")])),_:1})]),default:e(()=>[t(n,null,{default:e(()=>o[9]||(o[9]=[s("你有 permission.create 权限")])),_:1})]),_:1}),t(_,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[t(n,{type:"danger"},{default:e(()=>o[12]||(o[12]=[s(" 你没有 permission.browse 或 permission.create 权限 ")])),_:1})]),default:e(()=>[t(n,null,{default:e(()=>o[11]||(o[11]=[s("你有 permission.browse 或 permission.create 权限")])),_:1})]),_:1}),t(U,{value:["permission.browse","permission.create"]},{"no-auth":e(()=>[t(n,{type:"danger"},{default:e(()=>o[14]||(o[14]=[s(" 你没有 permission.browse 和 permission.create 权限 ")])),_:1})]),default:e(()=>[t(n,null,{default:e(()=>o[13]||(o[13]=[s("你有 permission.browse 和 permission.create 权限")])),_:1})]),_:1})]),o[27]||(o[27]=i("h3",null,"鉴权指令（请对照代码查看）",-1)),i("div",null,[v((l(),m("div",null,o[15]||(o[15]=[s(" 如果你有 permission.browse 权限则能看到这句话 ")]))),[[C,"permission.browse"]]),v((l(),m("div",null,o[16]||(o[16]=[s(" 如果你有 permission.create 权限则能看到这句话 ")]))),[[C,"permission.create"]]),v((l(),m("div",null,o[17]||(o[17]=[s(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")]))),[[C,["permission.browse","permission.create"]]]),v((l(),m("div",null,o[18]||(o[18]=[s(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")]))),[[H,["permission.browse","permission.create"]]])]),o[28]||(o[28]=i("h3",null,"鉴权函数（请对照代码查看）",-1)),i("div",null,[t($,{style:{display:"block","margin-bottom":"10px"}},{default:e(()=>[t(u,{onClick:o[1]||(o[1]=a=>y("permission.browse"))},{default:e(()=>o[19]||(o[19]=[s(" 校验 permission.browse 权限 ")])),_:1}),t(u,{onClick:o[2]||(o[2]=a=>y("permission.create"))},{default:e(()=>o[20]||(o[20]=[s(" 校验 permission.create 权限 ")])),_:1})]),_:1}),t($,null,{default:e(()=>[t(u,{onClick:o[3]||(o[3]=a=>y(["permission.browse","permission.create"]))},{default:e(()=>o[21]||(o[21]=[s(" 校验 permission.browse 或 permission.create 权限 ")])),_:1}),t(u,{onClick:o[4]||(o[4]=a=>G(["permission.browse","permission.create"]))},{default:e(()=>o[22]||(o[22]=[s(" 校验 permission.browse 和 permission.create 权限 ")])),_:1})]),_:1})])])):(l(),m("div",O," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});export{jo as default};

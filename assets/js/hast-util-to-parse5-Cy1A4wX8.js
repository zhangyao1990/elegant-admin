
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{s as u}from"./comma-separated-tokens-CRUGqg4f.js";import{h as d,f as l,s as N}from"./property-information-CayEAvHG.js";import{s as h}from"./space-separated-tokens-D7QSIrTI.js";import{w as f}from"./web-namespaces-bsVAaBS1.js";import{z as g}from"./zwitch-C2o2j-tx.js";const y={}.hasOwnProperty,p=g("type",{handlers:{root:b,element:O,text:C,comment:L,doctype:w}});function A(t,n){return p(t,d)}function b(t,n){const e={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return e.childNodes=c(t.children,e,n),i(t,e),e}function x(t,n){const e={nodeName:"#document-fragment",childNodes:[]};return e.childNodes=c(t.children,e,n),i(t,e),e}function w(t){const n={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return i(t,n),n}function C(t){const n={nodeName:"#text",value:t.value,parentNode:void 0};return i(t,n),n}function L(t){const n={nodeName:"#comment",data:t.value,parentNode:void 0};return i(t,n),n}function O(t,n){const e=n;let r=e;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&e.space==="html"&&(r=N);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&y.call(t.properties,o)){const m=S(r,o,t.properties[o]);m&&s.push(m)}}const a={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:f[r.space],childNodes:[],parentNode:void 0};return a.childNodes=c(t.children,a,r),i(t,a),t.tagName==="template"&&t.content&&(a.content=x(t.content,r)),a}function S(t,n,e){const r=l(t,n);if(e==null||e===!1||typeof e=="number"&&Number.isNaN(e)||!e&&r.boolean)return;Array.isArray(e)&&(e=r.commaSeparated?u(e):h(e));const s={name:r.attribute,value:e===!0?"":String(e)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=f[r.space]}return s}function c(t,n,e){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=p(t[r],e);o.parentNode=n,s.push(o)}return s}function i(t,n){const e=t.position;e&&e.start&&e.end&&(n.sourceCodeLocation={startLine:e.start.line,startCol:e.start.column,startOffset:e.start.offset,endLine:e.end.line,endCol:e.end.column,endOffset:e.end.offset})}export{A as t};


/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{d as D,i as r,r as S,b,a as u,c as h,f as l,F,a8 as M,q as j,Z as w,_ as c,U as V,k as i,Q as q,V as z,$ as A}from"./@vue-B5ZJ3lyG.js";import{d as E}from"./vuedraggable-CX4WvCQN.js";import{v as m}from"./index-qeCTDZwl.js";import{g as B,f as G}from"./index-CN3V1Hei.js";import{_ as I}from"./icon.vue_vue_type_script_setup_true_lang-Ct1VJFCF.js";import"./@imengyu-CEcZjhxx.js";import"./vue-DvVlWPqX.js";import"./sortablejs-BWWsmqBL.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-CyY_Wk_H.js";import"./floating-vue-AocVffS4.js";import"./@floating-ui-DiM7Jq06.js";import"./vue-m-message-CaZYo5LC.js";import"./overlayscrollbars-DIcyBJd7.js";import"./@iconify-BcJ8VpTk.js";import"./overlayscrollbars-vue-CwvYLriB.js";import"./@headlessui-Cgia3ZxR.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-0jcLrwUI.js";import"./lodash-es-Cgwu3vQX.js";import"./pinia-C6gN_FJk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-B53joON4.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-iUOJk6xm.js";import"./@vueuse-D9pgrdqz.js";import"./nprogress-CK9xi7fq.js";import"./@element-plus-DlsPF3Ud.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DHZ_rfNz.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BoS7Exf_.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-1i8roCpp.js";import"./path-browserify-CaPOtSVJ.js";import"./axios-CRnBnh7r.js";import"./vue-esign-CYl9_Ryz.js";const Q={class:"elegant-component-view flex flex-col"},Z={class:"flex flex-1 overflow-auto"},H={class:"elegant-tabs-box"},J=["title","onClick"],K={class:"box-border h-full flex-1 overflow-auto py-2"},O={class:"elegant-search-box px-10px py-6px"},R=["onClick"],W={class:"elegant-component-label w-0 flex-1 truncate"},X={class:"pt-42px text-center text-gray-400"},Ae=D({__name:"index",setup(Y){const L=m.getComponent("input"),g=r("pageSchema"),v=r("designer"),N=r("revoke"),$=r("designerProps"),f=m.getComponentSchemaGroups(),s=S(""),_={title:"全部",list:[]},n=S(_),U=b(()=>[_,...f.value]),p=b(()=>{let o=n.value.list;if(n.value.title==="全部"){const t=f.value.map(e=>e.list);o=[].concat(...t)}return o.filter(t=>{var e;return((e=t.label)==null?void 0:e.includes(s.value))&&(!$.value.formMode||t.type!=="form")})});function P(o){n.value=o}function T(o){var k,C,y;const t=G(g.schemas,((k=v.state.checkedNode)==null?void 0:k.id)??"root");if(!t)return!1;let{list:e,schema:a,index:d}=t;a.children&&!((y=(C=m.getComponentConfingByType(a.type))==null?void 0:C.editConstraints)!=null&&y.childImmovable)&&(e=a.children,d=a.children.length-1);const x=B(o);e.splice(d+1,0,x),v.setCheckedNode(x),N.push(g.schemas,"插入组件")}return(o,t)=>(u(),h("div",Q,[l("div",Z,[l("div",H,[(u(!0),h(F,null,M(U.value,(e,a)=>(u(),h("div",{key:a,class:j(["elegant-tab cursor-pointer truncate",{checked:n.value.title===e.title}]),title:e.title,onClick:d=>P(e)},w(e.title),11,J))),128))]),l("div",K,[l("div",O,[c(i(L),{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),value:s.value,"onUpdate:value":t[1]||(t[1]=e=>s.value=e),placeholder:"搜索组件",clearable:"","allow-clear":""},{prefix:V(()=>[c(i(I),{class:"text-$elegant-text-helper",name:"icon--elegant--search-rounded"})]),_:1},8,["modelValue","value"])]),c(i(E),q({modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=e=>p.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:i(B),"item-key":"id",class:"grid grid-cols-[auto_auto] gap-2 px-10px"}),{item:V(({element:e})=>[l("div",{class:"elegant-component-item flex items-center truncate",onClick:a=>T(e)},[c(i(I),{name:i(m).getComponentConfingByType(e.type).icon??""},null,8,["name"]),l("div",W,w(e.label),1)],8,R)]),_:1},16,["modelValue","clone"]),z(l("div",X," 没有查询到的组件 ",512),[[A,!p.value.length]])])])]))}});export{Ae as default};

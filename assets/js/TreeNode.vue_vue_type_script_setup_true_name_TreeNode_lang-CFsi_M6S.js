
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import G from"./StartNode-DwEch3Ku.js";import P from"./EndNode-vm63MGZm.js";import{_ as j}from"./ApprovalNode.vue_vue_type_script_setup_true_lang-C8aUlEO2.js";import{_ as D}from"./CcNode.vue_vue_type_script_setup_true_lang-DhRNebTV.js";import{_ as E}from"./TimerNode.vue_vue_type_script_setup_true_lang-BjlmaDHj.js";import{_ as L}from"./NotifyNode.vue_vue_type_script_setup_true_lang-D7g4j9Hn.js";import{_ as R}from"./index-qeCTDZwl.js";import{d as N,i as z,r as F,a as t,c as i,f as r,N as y,k as $,F as m,a8 as A,X as O,_ as p,U as u,V as C,a3 as w,$ as S,Q as _,ai as T,S as b,Y as M,aa as I,ac as Q,ad as U,W}from"./@vue-B5ZJ3lyG.js";import X from"./ConditionNode-BcscuMpI.js";import Y from"./Add-C58AJOfu.js";import{_ as q}from"./vue-esign-CYl9_Ryz.js";const H={class:"gateway-node"},J={class:"add-branch"},K=["onClick"],Z=["onClick"],x=N({__name:"GatewayNode",props:{node:{}},emits:["addNode"],setup(v,{emit:d}){const e=v,f=d,{readOnly:a}=z("flowDesign",{readOnly:F(!1)});function l(o,n){f("addNode",o,n||e.node)}function c(o){const n=e.node.children[o];e.node.children.splice(o,1),e.node.children.splice(o+1,0,n)}function h(o){const n=e.node.children[o];e.node.children.splice(o,1),e.node.children.splice(o-1,0,n)}return(o,n)=>{const g=R;return t(),i(m,null,[r("div",H,[r("div",J,[y(o.$slots,"default",{addNode:l,readOnly:$(a)},void 0,!0)]),(t(!0),i(m,null,A(o.node.children,(k,s)=>(t(),i("div",{key:k.id,class:"col-box"},[s===0?(t(),i(m,{key:0},[n[0]||(n[0]=r("div",{class:"top-left-border"},null,-1)),n[1]||(n[1]=r("div",{class:"bottom-left-border"},null,-1))],64)):o.node.children.length===s+1?(t(),i(m,{key:1},[n[2]||(n[2]=r("div",{class:"top-right-border"},null,-1)),n[3]||(n[3]=r("div",{class:"bottom-right-border"},null,-1))],64)):O("",!0),p(oe,_({node:k,ref_for:!0},o.$attrs,{class:"col-node",onAddNode:l}),{append:u(()=>[C(r("div",{class:"move-left",onClick:w(B=>h(s),["stop"])},[p(g,{name:"el:ArrowLeft"})],8,K),[[S,s!==0&&o.node.children.length!==s+1&&!$(a)]]),C(r("div",{class:"move-right",onClick:w(B=>c(s),["stop"])},[p(g,{name:"el:ArrowRight"})],8,Z),[[S,![s+1,s+2].includes(o.node.children.length)&&!$(a)]])]),_:2},1040,["node"])]))),128))]),p(Y,{class:"branch-but",onAddNode:l})],64)}}}),V=q(x,[["__scopeId","data-v-f7811411"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),ee=N({__name:"ExclusiveNode",props:{node:{}},setup(v){return(d,e)=>{const f=T("el-button");return t(),b(V,_(d.$attrs,{node:d.node}),{default:u(({addNode:a,readOnly:l})=>[p(f,{type:"primary",disabled:l,plain:"",round:"",onClick:c=>a("condition",d.node)},{default:u(()=>e[0]||(e[0]=[M(" 添加条件 ")])),_:2},1032,["disabled","onClick"])]),_:1},16,["node"])}}}),oe=N({__name:"TreeNode",props:{node:{}},setup(v){const d={start:G,approval:j,cc:D,timer:E,notify:L,exclusive:ee,condition:X,end:P};return(e,f)=>{const a=T("TreeNode",!0);return t(),i(m,null,[y(e.$slots,"default"),(t(),b(W(d[e.node.type]),_({node:e.node},e.$attrs),I({_:2},[A(e.$slots,(l,c)=>({name:c,fn:u(h=>[y(e.$slots,c,Q(U(h||{})))])}))]),1040,["node"])),e.node.child?(t(),b(a,_({key:0,node:e.node.child},e.$attrs),null,16,["node"])):O("",!0)],64)}}});export{fe as G,oe as _,ee as a};
